---
layout: post
title: "使用du命令查看磁盘空间"
date: "2016-12-14"
---

du是英文Disk Usage的缩写，所以这个命令功能也就显而易见了。在维护Linux服务器的时候，偶尔会出现磁盘被写满的情况，这时候我们就需要借助这个`du`命令来帮我们找出那些吃空间大户，进而再把它们逐一清除掉。来一起看看`du`的用法吧。


### 使用说明
```
du [-选项] [文件]
```

```
a：显示全部目录和其次目录下的每个档案所占的磁盘空间
b：大小用bytes来表示 (默认值为k bytes)
c：最后再加上总计 (默认值)
s：只显示各档案大小的总合 (summarize)
x：只计算同属同一个档案系统的档案
h:  以K，M，G为单位显示文件大小
L：计算所有的档案大小

```

### 使用范例


###### 以(K、M、G)为单位显示当前目录及其子目录的使用情况
```
du -h
```


###### 以(K、M、G)为单位显示当前目录的总容量
```
du -sh
```

###### 分别显示多个指定文件容量并求和
```
du -c a.zip b.zip
```

###### 按照空间大小排序
```
# 去掉-r参数排序为由小到大
du -h | sort -nr | more
```

###### 控制探测文件的深度
```
# 不统计当前目录的子目录大小
du --max-depth=1 .
```

###### 忽略指定文件
```
# 不统计当前目录中名为foo的文件
du --exclude=foo -ch
```

-完-

### 参考引用
+ [http://t.cn/RIGxmjT](http://t.cn/RIGxmjT)